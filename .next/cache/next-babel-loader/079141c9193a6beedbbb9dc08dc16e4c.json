{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Axios from 'axios';\nvar AgentContext = React.createContext();\nexport var Provider = function Provider(props) {\n  _s();\n\n  var _useState = useState({\n    token: '',\n    userName: '',\n    isLogin: false,\n    id: ''\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var addToken = function addToken(token) {\n    var newState = state;\n    newState.token = token;\n    setState(newState);\n  };\n\n  var addName = function addName(userName) {\n    var newState = state;\n    newState.userName = userName;\n    newState.isLogin = true;\n    setState(newState); // console.log(state);\n  };\n\n  var isUserAuth = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(token) {\n      var header, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              header = {\n                headers: {\n                  'x-auth-token': token\n                }\n              };\n              res = Axios.get('https://api.moni.pe/api/auth', header); // console.log('res:-', res);\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function isUserAuth(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(AgentContext.Provider, {\n    value: {\n      state: state,\n      addToken: addToken,\n      isUserAuth: isUserAuth,\n      addName: addName\n    }\n  }, props.children);\n};\n\n_s(Provider, \"/gZO2CHbSUFnPq//urLJr8tg/k4=\");\n\n_c = Provider;\nexport var Consumer = AgentContext.Consumer;\nexport default AgentContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"Provider\");","map":{"version":3,"sources":["E:/work/next-express/New folder/context/AgentContext.js"],"names":["React","useState","Axios","AgentContext","createContext","Provider","props","token","userName","isLogin","id","state","setState","addToken","newState","addName","isUserAuth","header","headers","res","get","children","Consumer"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,YAAY,GAAGH,KAAK,CAACI,aAAN,EAArB;AAEA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,KAAK,EAAI;AAAA;;AAChC,kBAA0BL,QAAQ,CAAC;AAClCM,IAAAA,KAAK,EAAE,EAD2B;AAElCC,IAAAA,QAAQ,EAAE,EAFwB;AAGlCC,IAAAA,OAAO,EAAE,KAHyB;AAIlCC,IAAAA,EAAE,EAAE;AAJ8B,GAAD,CAAlC;AAAA,MAAOC,KAAP;AAAA,MAAcC,QAAd;;AAOA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAN,KAAK,EAAI;AACzB,QAAMO,QAAQ,GAAGH,KAAjB;AACAG,IAAAA,QAAQ,CAACP,KAAT,GAAiBA,KAAjB;AACAK,IAAAA,QAAQ,CAACE,QAAD,CAAR;AACA,GAJD;;AAMA,MAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAP,QAAQ,EAAI;AAC3B,QAAMM,QAAQ,GAAGH,KAAjB;AACAG,IAAAA,QAAQ,CAACN,QAAT,GAAoBA,QAApB;AACAM,IAAAA,QAAQ,CAACL,OAAT,GAAmB,IAAnB;AACAG,IAAAA,QAAQ,CAACE,QAAD,CAAR,CAJ2B,CAK3B;AACA,GAND;;AAQA,MAAME,UAAU;AAAA,wEAAG,iBAAMT,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACZU,cAAAA,MADY,GACH;AACdC,gBAAAA,OAAO,EAAE;AACR,kCAAgBX;AADR;AADK,eADG;AAOZY,cAAAA,GAPY,GAONjB,KAAK,CAACkB,GAAN,CAAU,8BAAV,EAA0CH,MAA1C,CAPM,EAQlB;;AARkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAVD,UAAU;AAAA;AAAA;AAAA,KAAhB;;AAWA,SACC,MAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAE;AAAEL,MAAAA,KAAK,EAALA,KAAF;AAASE,MAAAA,QAAQ,EAARA,QAAT;AAAmBG,MAAAA,UAAU,EAAVA,UAAnB;AAA+BD,MAAAA,OAAO,EAAPA;AAA/B;AAA9B,KACET,KAAK,CAACe,QADR,CADD;AAKA,CAtCM;;GAAMhB,Q;;KAAAA,Q;AAuCb,OAAO,IAAMiB,QAAQ,GAAGnB,YAAY,CAACmB,QAA9B;AAEP,eAAenB,YAAf","sourcesContent":["import React, { useState } from 'react';\nimport Axios from 'axios';\n\nconst AgentContext = React.createContext();\n\nexport const Provider = props => {\n\tconst [state, setState] = useState({\n\t\ttoken: '',\n\t\tuserName: '',\n\t\tisLogin: false,\n\t\tid: '',\n\t});\n\n\tconst addToken = token => {\n\t\tconst newState = state;\n\t\tnewState.token = token;\n\t\tsetState(newState);\n\t};\n\n\tconst addName = userName => {\n\t\tconst newState = state;\n\t\tnewState.userName = userName;\n\t\tnewState.isLogin = true;\n\t\tsetState(newState);\n\t\t// console.log(state);\n\t};\n\n\tconst isUserAuth = async token => {\n\t\tconst header = {\n\t\t\theaders: {\n\t\t\t\t'x-auth-token': token,\n\t\t\t},\n\t\t};\n\n\t\tconst res = Axios.get('https://api.moni.pe/api/auth', header);\n\t\t// console.log('res:-', res);\n\t};\n\n\treturn (\n\t\t<AgentContext.Provider value={{ state, addToken, isUserAuth, addName }}>\n\t\t\t{props.children}\n\t\t</AgentContext.Provider>\n\t);\n};\nexport const Consumer = AgentContext.Consumer;\n\nexport default AgentContext;\n"]},"metadata":{},"sourceType":"module"}