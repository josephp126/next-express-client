{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useContext } from 'react';\nimport Axios from 'axios';\nimport BankAccountsEdit from './BankAccountsEdit';\nimport UserContext from '../../context/UserContext';\nimport Loader from '../Loader';\nimport Cookies from 'js-cookie';\nimport AlertContext from '../../context/alert/alertContext';\nimport Router, { withRouter } from 'next/router';\n\nvar BankAccountsView = function BankAccountsView() {\n  _s();\n\n  var _useState = useState(''),\n      bankName = _useState[0],\n      setBankName = _useState[1];\n\n  var _useState2 = useState(''),\n      currencyType = _useState2[0],\n      setCurrencyType = _useState2[1];\n\n  var _useState3 = useState(''),\n      accountType = _useState3[0],\n      SetAccountType = _useState3[1];\n\n  var _useState4 = useState(''),\n      accountNumber = _useState4[0],\n      setAccountNumber = _useState4[1];\n\n  var _useState5 = useState(''),\n      nickname = _useState5[0],\n      setNickname = _useState5[1];\n\n  var _useContext = useContext(UserContext),\n      state = _useContext.state,\n      addToken = _useContext.addToken,\n      addName = _useContext.addName;\n\n  var _useState6 = useState(''),\n      banks = _useState6[0],\n      setBanks = _useState6[1];\n\n  var _useState7 = useState(false),\n      showEdit = _useState7[0],\n      setShowEdit = _useState7[1];\n\n  var alertContext = useContext(AlertContext);\n  var setAlert = alertContext.setAlert,\n      alerts = alertContext.alerts;\n\n  var _useState8 = useState(''),\n      data = _useState8[0],\n      setData = _useState8[1];\n\n  var _useState9 = useState(''),\n      editRequest = _useState9[0],\n      setEditRequest = _useState9[1];\n\n  var init = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var header, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              header = {\n                headers: {\n                  'x-auth-token': Cookies.get('token')\n                }\n              };\n              _context.next = 4;\n              return Axios.get('https://api.moni.pe/api/accounts/', header);\n\n            case 4:\n              res = _context.sent;\n              setBanks(res.data);\n              _context.next = 12;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              setAlert('Por favor inicie sesi√≥n para continuar', 'danger');\n              Router.push('/login');\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n\n    return function init() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    init();\n  }, []);\n\n  var handleEdit = function handleEdit(data, request) {\n    // console.log('da', data._id);\n    setData(data);\n    setEditRequest(request); // console.log(editRequest);\n\n    setShowEdit(!showEdit);\n    init();\n  };\n\n  if (showEdit === true) {\n    {\n      return __jsx(BankAccountsEdit, {\n        data: data,\n        handleShowEdit: handleEdit,\n        state: showEdit,\n        request: editRequest\n      });\n    }\n  }\n\n  if (banks === '') {\n    return __jsx(\"div\", {\n      className: \"form-container w-100\"\n    }, __jsx(\"h2\", null, __jsx(Loader, null)));\n  }\n\n  return __jsx(\"div\", {\n    className: \"form-container w-100\"\n  }, __jsx(\"h2\", {\n    className: \"mb-5\"\n  }, \"Detalles de cuenta bancaria\"), banks.map(function (data, index) {\n    return __jsx(React.Fragment, {\n      key: index\n    }, __jsx(\"div\", {\n      className: \"row mt-4\"\n    }, __jsx(\"div\", {\n      className: \"col-md-2 \"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"N\\xFAmero de cuenta\"), __jsx(\"p\", {\n      className: \"ml-3\"\n    }, data.accountNumber))), __jsx(\"div\", {\n      className: \"col-md-2 \"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Tipo de cuenta\"), __jsx(\"p\", {\n      className: \"ml-3\"\n    }, data.type))), __jsx(\"div\", {\n      className: \"col-md-2 \"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Nombre del banco\"), __jsx(\"p\", {\n      className: \"ml-3\"\n    }, data.bankName))), __jsx(\"div\", {\n      className: \"col-md-2 \"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Due\\xF1o de cuenta\"), __jsx(\"p\", {\n      className: \"ml-3\"\n    }, \" \", data.nickname || ''))), __jsx(\"div\", {\n      className: \"col-md-2 \"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"label\", null, \"Tipo de moneda\"), __jsx(\"p\", {\n      className: \"ml-3\"\n    }, \" \", data.currency))), __jsx(\"div\", {\n      className: \"col-md-2 \"\n    }, __jsx(\"div\", {\n      className: \"form-group\"\n    }, __jsx(\"button\", {\n      className: \"mt-4 mb-0 btn blue-btn\",\n      onClick: function onClick() {\n        return handleEdit(data, 'edit');\n      }\n    }, \"Editar\")))));\n  }), __jsx(\"button\", {\n    className: \"btn outline-btn mt-5 btn-long\",\n    onClick: function onClick() {\n      return handleEdit('', 'add');\n    }\n  }, \"Agregar cuenta bancaria\"));\n};\n\n_s(BankAccountsView, \"PtcNn2BSeAMT5sTqWiAWZvjQZVw=\");\n\n_c = BankAccountsView;\nexport default BankAccountsView;\n\nvar _c;\n\n$RefreshReg$(_c, \"BankAccountsView\");","map":{"version":3,"sources":["E:/work/next-express/New folder/components/Operation/BankAccountsView.js"],"names":["React","useState","useEffect","useContext","Axios","BankAccountsEdit","UserContext","Loader","Cookies","AlertContext","Router","withRouter","BankAccountsView","bankName","setBankName","currencyType","setCurrencyType","accountType","SetAccountType","accountNumber","setAccountNumber","nickname","setNickname","state","addToken","addName","banks","setBanks","showEdit","setShowEdit","alertContext","setAlert","alerts","data","setData","editRequest","setEditRequest","init","header","headers","get","res","push","handleEdit","request","map","index","type","currency"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport Axios from 'axios';\nimport BankAccountsEdit from './BankAccountsEdit';\nimport UserContext from '../../context/UserContext';\nimport Loader from '../Loader';\nimport Cookies from 'js-cookie';\nimport AlertContext from '../../context/alert/alertContext';\nimport Router, { withRouter } from 'next/router';\n\nconst BankAccountsView = () => {\n\tconst [bankName, setBankName] = useState('');\n\tconst [currencyType, setCurrencyType] = useState('');\n\tconst [accountType, SetAccountType] = useState('');\n\tconst [accountNumber, setAccountNumber] = useState('');\n\tconst [nickname, setNickname] = useState('');\n\tconst { state, addToken, addName } = useContext(UserContext);\n\tconst [banks, setBanks] = useState('');\n\tconst [showEdit, setShowEdit] = useState(false);\n\tconst alertContext = useContext(AlertContext);\n\tconst { setAlert, alerts } = alertContext;\n\tconst [data, setData] = useState('');\n\n\tconst [editRequest, setEditRequest] = useState('');\n\n\tconst init = async () => {\n\t\ttry {\n\t\t\tconst header = {\n\t\t\t\theaders: {\n\t\t\t\t\t'x-auth-token': Cookies.get('token'),\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tconst res = await Axios.get('https://api.moni.pe/api/accounts/', header);\n\t\t\tsetBanks(res.data);\n\t\t} catch (error) {\n\t\t\tsetAlert('Por favor inicie sesi√≥n para continuar', 'danger');\n\t\t\tRouter.push('/login');\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tinit();\n\t}, []);\n\n\tconst handleEdit = (data, request) => {\n\t\t// console.log('da', data._id);\n\t\tsetData(data);\n\t\tsetEditRequest(request);\n\t\t// console.log(editRequest);\n\t\tsetShowEdit(!showEdit);\n\t\tinit();\n\t};\n\n\tif (showEdit === true) {\n\t\t{\n\t\t\treturn (\n\t\t\t\t<BankAccountsEdit\n\t\t\t\t\tdata={data}\n\t\t\t\t\thandleShowEdit={handleEdit}\n\t\t\t\t\tstate={showEdit}\n\t\t\t\t\trequest={editRequest}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n\n\tif (banks === '') {\n\t\treturn (\n\t\t\t<div className='form-container w-100'>\n\t\t\t\t<h2>\n\t\t\t\t\t<Loader />\n\t\t\t\t</h2>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className='form-container w-100'>\n\t\t\t<h2 className='mb-5'>Detalles de cuenta bancaria</h2>\n\n\t\t\t{banks.map((data, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<React.Fragment key={index}>\n\t\t\t\t\t\t<div className='row mt-4'>\n\t\t\t\t\t\t\t<div className='col-md-2 '>\n\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t<label>N√∫mero de cuenta</label>\n\t\t\t\t\t\t\t\t\t<p className='ml-3'>{data.accountNumber}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className='col-md-2 '>\n\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t<label>Tipo de cuenta</label>\n\t\t\t\t\t\t\t\t\t<p className='ml-3'>{data.type}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='col-md-2 '>\n\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t<label>Nombre del banco</label>\n\t\t\t\t\t\t\t\t\t<p className='ml-3'>{data.bankName}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className='col-md-2 '>\n\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t<label>Due√±o de cuenta</label>\n\t\t\t\t\t\t\t\t\t<p className='ml-3'> {data.nickname || ''}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className='col-md-2 '>\n\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t<label>Tipo de moneda</label>\n\t\t\t\t\t\t\t\t\t<p className='ml-3'> {data.currency}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className='col-md-2 '>\n\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='mt-4 mb-0 btn blue-btn'\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleEdit(data, 'edit')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tEditar\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t);\n\t\t\t})}\n\t\t\t<button\n\t\t\t\tclassName='btn outline-btn mt-5 btn-long'\n\t\t\t\tonClick={() => handleEdit('', 'add')}\n\t\t\t>\n\t\t\t\tAgregar cuenta bancaria\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default BankAccountsView;\n"]},"metadata":{},"sourceType":"module"}