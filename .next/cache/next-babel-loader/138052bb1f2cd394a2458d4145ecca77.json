{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useContext, useState, useEffect } from 'react';\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport Logincontext from '../../context/LoginContext';\nimport UserContext from '../../context/UserContext';\nimport AlertContext from '../../context/alert/alertContext';\nimport { FaEye, FaEyeSlash } from 'react-icons/fa';\nimport Navbar2 from '../Navbar2';\nimport Topbar from '../topbar';\nimport Footer2 from '../Footer2';\nimport Router, { withRouter } from 'next/router';\nimport Axios from 'axios';\nimport Link from 'next/link'; // import cookies from \"next-cookies\";\n\nimport Loader from '../Loader';\nimport Cookies from 'js-cookie';\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nexport const Login = () => {\n  const {\n    0: username,\n    1: setUsername\n  } = useState('');\n  const {\n    0: password,\n    1: setPassword\n  } = useState('');\n  const context = useContext(Logincontext);\n  const {\n    state,\n    addToken,\n    addName\n  } = useContext(UserContext);\n  const alertContext = useContext(AlertContext);\n  const {\n    setAlert,\n    alerts\n  } = alertContext;\n  const {\n    0: awaitData,\n    1: setAwaitData\n  } = useState(false);\n  const {\n    0: showPassword,\n    1: setShowPassword\n  } = useState(false);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false); // useEffect(() => {\n  //   NotificationManager.info(\"Please login to continue\", \"Hola\");\n  // }, []);\n\n  const init = () => {\n    const tok = Cookies.get('token');\n\n    if (tok !== undefined) {\n      window.location.href = '/operation';\n    }\n  };\n\n  useEffect(() => {\n    window.onpopstate = function (event) {\n      window.location.href = '/';\n    };\n\n    init();\n    setLoading(false);\n  }, []);\n\n  const handleLogin = async e => {\n    e.preventDefault();\n    const body = {\n      email: username,\n      password: password\n    };\n    setAwaitData(true);\n\n    try {\n      if (body.email === '' || body.password === '') {\n        setAlert('Por favor llena todos los espacios', 'danger');\n        setAwaitData(false);\n      } else {\n        const res = await Axios.post('http://localhost:5000/users/login', {\n          data: body\n        }); // console.log(res, 'resss');\n        // await addToken(res.data.token);\n        // Cookies.set('token', res.data.token);\n\n        console.log(res);\n        localStorage.setItem(\"ship-token\", res.data.token);\n        window.location.href = '/';\n        const header = {\n          headers: {\n            'x-auth-token': state.token\n          }\n        }; // const data = await Axios.get('https://api.moni.pe/api/auth', header);\n        // await addName(data.data.name);\n      }\n    } catch (error) {\n      if (error.response.data.msg === 'Your account has not been verified.') {\n        window.location.href = '/resend';\n      }\n\n      setAlert(error.response.data.msg, 'danger');\n      setAwaitData(false);\n    }\n  };\n\n  const togglePassword = e => {\n    e.preventDefault();\n    setShowPassword(!showPassword);\n  };\n\n  if (awaitData === true) {\n    return __jsx(\"div\", {\n      className: \"form-container w-100 h-100\"\n    }, __jsx(\"div\", {\n      className: \"loader\"\n    }, __jsx(Loader, null)), __jsx(\"style\", null, `\n        .form-container {\n          height: 100vh !important;\n          // background: #071127;\n          }\n        `));\n  }\n\n  if (loading === true) {\n    return __jsx(\"div\", {\n      className: \"page-loader\"\n    }, __jsx(\"div\", {\n      className: \"loader\"\n    }, \"Cargando...\"));\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Navbar2, null), __jsx(Topbar, null), __jsx(\"div\", {\n    className: \"jsx-55367813\" + \" \" + 'home-content container'\n  }, __jsx(\"div\", {\n    className: \"jsx-55367813\" + \" \" + 'home-text'\n  }, __jsx(\"div\", {\n    className: \"jsx-55367813\" + \" \" + 'container align-center'\n  }, __jsx(\"div\", {\n    className: \"jsx-55367813\" + \" \" + 'row'\n  }, __jsx(\"div\", {\n    className: \"jsx-55367813\" + \" \" + 'col-sm-5 col-sm-push-3'\n  }, __jsx(\"form\", {\n    className: \"jsx-55367813\" + \" \" + 'form white'\n  }, __jsx(\"h1\", {\n    className: \"jsx-55367813\" + \" \" + 'section-title pt-80 pt-xs-40 mb-40 mb-sm-40'\n  }, \"SIGN IN\"), __jsx(\"input\", {\n    type: \"email\",\n    name: \"usuario\",\n    id: \"usuario\",\n    placeholder: \"email\",\n    pattern: \".{3,100}\",\n    value: username,\n    onChange: e => {\n      setUsername(e.target.value);\n    },\n    className: \"jsx-55367813\" + \" \" + 'input-sm bold'\n  }), __jsx(\"i\", {\n    className: \"jsx-55367813\" + \" \" + 'fa fa-user fa-2x campoform'\n  }), __jsx(\"input\", {\n    name: \"password\",\n    id: \"password\",\n    placeholder: \"password\",\n    pattern: \".{3,100}\",\n    type: showPassword ? 'text' : 'password',\n    value: password,\n    onChange: e => {\n      setPassword(e.target.value);\n    },\n    className: \"jsx-55367813\" + \" \" + 'input-sm bold'\n  }), __jsx(\"i\", {\n    onClick: togglePassword,\n    className: \"jsx-55367813\" + \" \" + 'fa fa-eye fa-2x campoform'\n  }), __jsx(\"button\", {\n    onClick: handleLogin,\n    className: \"jsx-55367813\" + \" \" + 'btn btn-mod btn-color btn-border-w btn-large btn-circle mb-20'\n  }, \"Sign In\"), __jsx(\"a\", {\n    href: \"/forgetpassword\",\n    className: \"jsx-55367813\"\n  }, \"Did you forget password?\"), __jsx(\"p\", {\n    className: \"jsx-55367813\" + \" \" + 'mt-20'\n  }, __jsx(\"br\", {\n    className: \"jsx-55367813\"\n  }), \"create account\", ' ', __jsx(\"a\", {\n    href: \"/register\",\n    className: \"jsx-55367813\" + \" \" + 'orange'\n  }, \"here\")), __jsx(\"p\", {\n    className: \"jsx-55367813\" + \" \" + 'mt-20'\n  }, \"login for admin\", __jsx(\"br\", {\n    className: \"jsx-55367813\"\n  }), __jsx(\"a\", {\n    href: \"/admin_login\",\n    className: \"jsx-55367813\" + \" \" + 'orange'\n  }, \"admin login\")))))))), __jsx(_JSXStyle, {\n    id: \"55367813\"\n  }, \".btn-icon.jsx-55367813{background:transparent;color:white;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFx3b3JrXFxuZXh0LWV4cHJlc3NcXGNsaWVudFxcY29tcG9uZW50c1xcTG9naW5cXExvZ2luMi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF5TGdCLEFBRzhCLHVCQUNYLFlBQ2IiLCJmaWxlIjoiRTpcXHdvcmtcXG5leHQtZXhwcmVzc1xcY2xpZW50XFxjb21wb25lbnRzXFxMb2dpblxcTG9naW4yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBNb2RhbCwgTW9kYWxIZWFkZXIsIE1vZGFsQm9keSwgTW9kYWxGb290ZXIgfSBmcm9tICdyZWFjdHN0cmFwJztcbmltcG9ydCBMb2dpbmNvbnRleHQgZnJvbSAnLi4vLi4vY29udGV4dC9Mb2dpbkNvbnRleHQnO1xuaW1wb3J0IFVzZXJDb250ZXh0IGZyb20gJy4uLy4uL2NvbnRleHQvVXNlckNvbnRleHQnO1xuaW1wb3J0IEFsZXJ0Q29udGV4dCBmcm9tICcuLi8uLi9jb250ZXh0L2FsZXJ0L2FsZXJ0Q29udGV4dCc7XG5pbXBvcnQgeyBGYUV5ZSwgRmFFeWVTbGFzaCB9IGZyb20gJ3JlYWN0LWljb25zL2ZhJztcbmltcG9ydCBOYXZiYXIyIGZyb20gJy4uL05hdmJhcjInO1xuaW1wb3J0IFRvcGJhciBmcm9tICcuLi90b3BiYXInO1xuaW1wb3J0IEZvb3RlcjIgZnJvbSAnLi4vRm9vdGVyMic7XG5cbmltcG9ydCBSb3V0ZXIsIHsgd2l0aFJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCBBeGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnO1xuLy8gaW1wb3J0IGNvb2tpZXMgZnJvbSBcIm5leHQtY29va2llc1wiO1xuaW1wb3J0IExvYWRlciBmcm9tICcuLi9Mb2FkZXInO1xuaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJztcbmltcG9ydCB7XG5cdE5vdGlmaWNhdGlvbkNvbnRhaW5lcixcblx0Tm90aWZpY2F0aW9uTWFuYWdlcixcbn0gZnJvbSAncmVhY3Qtbm90aWZpY2F0aW9ucyc7XG5cbmV4cG9ydCBjb25zdCBMb2dpbiA9ICgpID0+IHtcblx0Y29uc3QgW3VzZXJuYW1lLCBzZXRVc2VybmFtZV0gPSB1c2VTdGF0ZSgnJyk7XG5cdGNvbnN0IFtwYXNzd29yZCwgc2V0UGFzc3dvcmRdID0gdXNlU3RhdGUoJycpO1xuXHRjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChMb2dpbmNvbnRleHQpO1xuXHRjb25zdCB7IHN0YXRlLCBhZGRUb2tlbiwgYWRkTmFtZSB9ID0gdXNlQ29udGV4dChVc2VyQ29udGV4dCk7XG5cdGNvbnN0IGFsZXJ0Q29udGV4dCA9IHVzZUNvbnRleHQoQWxlcnRDb250ZXh0KTtcblx0Y29uc3QgeyBzZXRBbGVydCwgYWxlcnRzIH0gPSBhbGVydENvbnRleHQ7XG5cdGNvbnN0IFthd2FpdERhdGEsIHNldEF3YWl0RGF0YV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cdGNvbnN0IFtzaG93UGFzc3dvcmQsIHNldFNob3dQYXNzd29yZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cdGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuXHQvLyB1c2VFZmZlY3QoKCkgPT4ge1xuXHQvLyAgIE5vdGlmaWNhdGlvbk1hbmFnZXIuaW5mbyhcIlBsZWFzZSBsb2dpbiB0byBjb250aW51ZVwiLCBcIkhvbGFcIik7XG5cdC8vIH0sIFtdKTtcblx0Y29uc3QgaW5pdCA9ICgpID0+IHtcblx0XHRjb25zdCB0b2sgPSBDb29raWVzLmdldCgndG9rZW4nKTtcblx0XHRpZiAodG9rICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9vcGVyYXRpb24nO1xuXHRcdH1cblx0fTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdHdpbmRvdy5vbnBvcHN0YXRlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvJztcblx0XHR9O1xuXHRcdGluaXQoKTtcblx0XHRzZXRMb2FkaW5nKGZhbHNlKTtcblx0fSwgW10pO1xuXG5cdGNvbnN0IGhhbmRsZUxvZ2luID0gYXN5bmMgZSA9PiB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGNvbnN0IGJvZHkgPSB7IGVtYWlsOiB1c2VybmFtZSwgcGFzc3dvcmQ6IHBhc3N3b3JkIH07XG5cblx0XHRzZXRBd2FpdERhdGEodHJ1ZSk7XG5cdFx0dHJ5IHtcblx0XHRcdGlmIChib2R5LmVtYWlsID09PSAnJyB8fCBib2R5LnBhc3N3b3JkID09PSAnJykge1xuXHRcdFx0XHRzZXRBbGVydCgnUG9yIGZhdm9yIGxsZW5hIHRvZG9zIGxvcyBlc3BhY2lvcycsICdkYW5nZXInKTtcblx0XHRcdFx0c2V0QXdhaXREYXRhKGZhbHNlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IHJlcyA9IGF3YWl0IEF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC91c2Vycy9sb2dpbicsIHtkYXRhOiBib2R5fSk7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKHJlcywgJ3Jlc3NzJyk7XG5cdFx0XHRcdC8vIGF3YWl0IGFkZFRva2VuKHJlcy5kYXRhLnRva2VuKTtcblx0XHRcdFx0Ly8gQ29va2llcy5zZXQoJ3Rva2VuJywgcmVzLmRhdGEudG9rZW4pO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhyZXMpO1xuXHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNoaXAtdG9rZW5cIiwgcmVzLmRhdGEudG9rZW4pXG5cdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy8nO1xuXG5cdFx0XHRcdGNvbnN0IGhlYWRlciA9IHtcblx0XHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0XHQneC1hdXRoLXRva2VuJzogc3RhdGUudG9rZW4sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fTtcblx0XHRcdFx0Ly8gY29uc3QgZGF0YSA9IGF3YWl0IEF4aW9zLmdldCgnaHR0cHM6Ly9hcGkubW9uaS5wZS9hcGkvYXV0aCcsIGhlYWRlcik7XG5cdFx0XHRcdC8vIGF3YWl0IGFkZE5hbWUoZGF0YS5kYXRhLm5hbWUpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5tc2cgPT09ICdZb3VyIGFjY291bnQgaGFzIG5vdCBiZWVuIHZlcmlmaWVkLicpIHtcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL3Jlc2VuZCc7XG5cdFx0XHR9XG5cdFx0XHRzZXRBbGVydChlcnJvci5yZXNwb25zZS5kYXRhLm1zZywgJ2RhbmdlcicpO1xuXHRcdFx0c2V0QXdhaXREYXRhKGZhbHNlKTtcblx0XHR9XG5cdH07XG5cblx0Y29uc3QgdG9nZ2xlUGFzc3dvcmQgPSBlID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0c2V0U2hvd1Bhc3N3b3JkKCFzaG93UGFzc3dvcmQpO1xuXHR9O1xuXG5cdGlmIChhd2FpdERhdGEgPT09IHRydWUpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J2Zvcm0tY29udGFpbmVyIHctMTAwIGgtMTAwJz5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2xvYWRlcic+XG5cdFx0XHRcdFx0PExvYWRlciAvPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PHN0eWxlPntgXG4gICAgICAgIC5mb3JtLWNvbnRhaW5lciB7XG4gICAgICAgICAgaGVpZ2h0OiAxMDB2aCAhaW1wb3J0YW50O1xuICAgICAgICAgIC8vIGJhY2tncm91bmQ6ICMwNzExMjc7XG4gICAgICAgICAgfVxuICAgICAgICBgfTwvc3R5bGU+XG5cdFx0XHQ8L2Rpdj5cblx0XHQpO1xuXHR9XG5cblx0aWYgKGxvYWRpbmcgPT09IHRydWUpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J3BhZ2UtbG9hZGVyJz5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2xvYWRlcic+Q2FyZ2FuZG8uLi48L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gKFxuXHRcdDw+XG5cdFx0XHQ8TmF2YmFyMiAvPlxuXHRcdFx0PFRvcGJhciAvPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0naG9tZS1jb250ZW50IGNvbnRhaW5lcic+XG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2hvbWUtdGV4dCc+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29udGFpbmVyIGFsaWduLWNlbnRlcic+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdyb3cnPlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb2wtc20tNSBjb2wtc20tcHVzaC0zJz5cblx0XHRcdFx0XHRcdFx0XHRcdDxmb3JtIGNsYXNzTmFtZT0nZm9ybSB3aGl0ZSc+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxoMSBjbGFzc05hbWU9J3NlY3Rpb24tdGl0bGUgcHQtODAgcHQteHMtNDAgbWItNDAgbWItc20tNDAnPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFNJR04gSU5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9oMT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZT0nZW1haWwnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bmFtZT0ndXN1YXJpbydcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZD0ndXN1YXJpbydcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J2lucHV0LXNtIGJvbGQnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGxhY2Vob2xkZXI9J2VtYWlsJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBhdHRlcm49Jy57MywxMDB9J1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlPXt1c2VybmFtZX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZT17ZSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZXRVc2VybmFtZShlLnRhcmdldC52YWx1ZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3NOYW1lPSdmYSBmYS11c2VyIGZhLTJ4IGNhbXBvZm9ybSc+PC9pPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRuYW1lPSdwYXNzd29yZCdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZD0ncGFzc3dvcmQnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdpbnB1dC1zbSBib2xkJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBsYWNlaG9sZGVyPSdwYXNzd29yZCdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwYXR0ZXJuPScuezMsMTAwfSdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlPXtzaG93UGFzc3dvcmQgPyAndGV4dCcgOiAncGFzc3dvcmQnfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlPXtwYXNzd29yZH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZT17ZSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzZXRQYXNzd29yZChlLnRhcmdldC52YWx1ZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0Lz5cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nZmEgZmEtZXllIGZhLTJ4IGNhbXBvZm9ybSdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXt0b2dnbGVQYXNzd29yZH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0Lz5cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdidG4gYnRuLW1vZCBidG4tY29sb3IgYnRuLWJvcmRlci13IGJ0bi1sYXJnZSBidG4tY2lyY2xlIG1iLTIwJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9e2hhbmRsZUxvZ2lufVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0U2lnbiBJblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGEgaHJlZj0nL2ZvcmdldHBhc3N3b3JkJz5EaWQgeW91IGZvcmdldCBwYXNzd29yZD88L2E+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxwIGNsYXNzTmFtZT0nbXQtMjAnPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxiciAvPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNyZWF0ZSBhY2NvdW50eycgJ31cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8YSBocmVmPScvcmVnaXN0ZXInIGNsYXNzTmFtZT0nb3JhbmdlJz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGhlcmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2E+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3NOYW1lPSdtdC0yMCc+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bG9naW4gZm9yIGFkbWluXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGJyIC8+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGEgaHJlZj0nL2FkbWluX2xvZ2luJyBjbGFzc05hbWU9J29yYW5nZSc+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhZG1pbiBsb2dpblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvYT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9mb3JtPlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PHN0eWxlIGpzeD57YFxuXHRcdFx0XHRcdC5idG4taWNvbiB7XG5cdFx0XHRcdFx0XHRiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcblx0XHRcdFx0XHRcdGNvbG9yOiB3aGl0ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdGB9PC9zdHlsZT5cblx0XHRcdDxGb290ZXIyIC8+XG5cdFx0PC8+XG5cdCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMb2dpbjtcbiJdfQ== */\\n/*@ sourceURL=E:\\\\\\\\work\\\\\\\\next-express\\\\\\\\client\\\\\\\\components\\\\\\\\Login\\\\\\\\Login2.js */\"), __jsx(Footer2, null));\n};\nexport default Login;","map":{"version":3,"sources":["E:/work/next-express/client/components/Login/Login2.js"],"names":["React","useContext","useState","useEffect","Modal","ModalHeader","ModalBody","ModalFooter","Logincontext","UserContext","AlertContext","FaEye","FaEyeSlash","Navbar2","Topbar","Footer2","Router","withRouter","Axios","Link","Loader","Cookies","NotificationContainer","NotificationManager","Login","username","setUsername","password","setPassword","context","state","addToken","addName","alertContext","setAlert","alerts","awaitData","setAwaitData","showPassword","setShowPassword","loading","setLoading","init","tok","get","undefined","window","location","href","onpopstate","event","handleLogin","e","preventDefault","body","email","res","post","data","console","log","localStorage","setItem","token","header","headers","error","response","msg","togglePassword","target","value"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport Logincontext from '../../context/LoginContext';\nimport UserContext from '../../context/UserContext';\nimport AlertContext from '../../context/alert/alertContext';\nimport { FaEye, FaEyeSlash } from 'react-icons/fa';\nimport Navbar2 from '../Navbar2';\nimport Topbar from '../topbar';\nimport Footer2 from '../Footer2';\n\nimport Router, { withRouter } from 'next/router';\nimport Axios from 'axios';\nimport Link from 'next/link';\n// import cookies from \"next-cookies\";\nimport Loader from '../Loader';\nimport Cookies from 'js-cookie';\nimport {\n\tNotificationContainer,\n\tNotificationManager,\n} from 'react-notifications';\n\nexport const Login = () => {\n\tconst [username, setUsername] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst context = useContext(Logincontext);\n\tconst { state, addToken, addName } = useContext(UserContext);\n\tconst alertContext = useContext(AlertContext);\n\tconst { setAlert, alerts } = alertContext;\n\tconst [awaitData, setAwaitData] = useState(false);\n\tconst [showPassword, setShowPassword] = useState(false);\n\tconst [loading, setLoading] = useState(false);\n\n\t// useEffect(() => {\n\t//   NotificationManager.info(\"Please login to continue\", \"Hola\");\n\t// }, []);\n\tconst init = () => {\n\t\tconst tok = Cookies.get('token');\n\t\tif (tok !== undefined) {\n\t\t\twindow.location.href = '/operation';\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\twindow.onpopstate = function (event) {\n\t\t\twindow.location.href = '/';\n\t\t};\n\t\tinit();\n\t\tsetLoading(false);\n\t}, []);\n\n\tconst handleLogin = async e => {\n\t\te.preventDefault();\n\t\tconst body = { email: username, password: password };\n\n\t\tsetAwaitData(true);\n\t\ttry {\n\t\t\tif (body.email === '' || body.password === '') {\n\t\t\t\tsetAlert('Por favor llena todos los espacios', 'danger');\n\t\t\t\tsetAwaitData(false);\n\t\t\t} else {\n\t\t\t\tconst res = await Axios.post('http://localhost:5000/users/login', {data: body});\n\t\t\t\t// console.log(res, 'resss');\n\t\t\t\t// await addToken(res.data.token);\n\t\t\t\t// Cookies.set('token', res.data.token);\n\t\t\t\tconsole.log(res);\n\t\t\t\tlocalStorage.setItem(\"ship-token\", res.data.token)\n\t\t\t\twindow.location.href = '/';\n\n\t\t\t\tconst header = {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'x-auth-token': state.token,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t\t// const data = await Axios.get('https://api.moni.pe/api/auth', header);\n\t\t\t\t// await addName(data.data.name);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tif (error.response.data.msg === 'Your account has not been verified.') {\n\t\t\t\twindow.location.href = '/resend';\n\t\t\t}\n\t\t\tsetAlert(error.response.data.msg, 'danger');\n\t\t\tsetAwaitData(false);\n\t\t}\n\t};\n\n\tconst togglePassword = e => {\n\t\te.preventDefault();\n\t\tsetShowPassword(!showPassword);\n\t};\n\n\tif (awaitData === true) {\n\t\treturn (\n\t\t\t<div className='form-container w-100 h-100'>\n\t\t\t\t<div className='loader'>\n\t\t\t\t\t<Loader />\n\t\t\t\t</div>\n\t\t\t\t<style>{`\n        .form-container {\n          height: 100vh !important;\n          // background: #071127;\n          }\n        `}</style>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif (loading === true) {\n\t\treturn (\n\t\t\t<div className='page-loader'>\n\t\t\t\t<div className='loader'>Cargando...</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Navbar2 />\n\t\t\t<Topbar />\n\t\t\t\t<div className='home-content container'>\n\t\t\t\t\t<div className='home-text'>\n\t\t\t\t\t\t<div className='container align-center'>\n\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t<div className='col-sm-5 col-sm-push-3'>\n\t\t\t\t\t\t\t\t\t<form className='form white'>\n\t\t\t\t\t\t\t\t\t\t<h1 className='section-title pt-80 pt-xs-40 mb-40 mb-sm-40'>\n\t\t\t\t\t\t\t\t\t\t\tSIGN IN\n\t\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\t\t\t\tname='usuario'\n\t\t\t\t\t\t\t\t\t\t\tid='usuario'\n\t\t\t\t\t\t\t\t\t\t\tclassName='input-sm bold'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='email'\n\t\t\t\t\t\t\t\t\t\t\tpattern='.{3,100}'\n\t\t\t\t\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetUsername(e.target.value);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<i className='fa fa-user fa-2x campoform'></i>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\t\t\t\t\tclassName='input-sm bold'\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='password'\n\t\t\t\t\t\t\t\t\t\t\tpattern='.{3,100}'\n\t\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetPassword(e.target.value);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t\t\t\t\tclassName='fa fa-eye fa-2x campoform'\n\t\t\t\t\t\t\t\t\t\t\tonClick={togglePassword}\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-mod btn-color btn-border-w btn-large btn-circle mb-20'\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleLogin}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<a href='/forgetpassword'>Did you forget password?</a>\n\t\t\t\t\t\t\t\t\t\t<p className='mt-20'>\n\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\tcreate account{' '}\n\t\t\t\t\t\t\t\t\t\t\t<a href='/register' className='orange'>\n\t\t\t\t\t\t\t\t\t\t\t\there\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className='mt-20'>\n\t\t\t\t\t\t\t\t\t\t\tlogin for admin\n\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t<a href='/admin_login' className='orange'>\n\t\t\t\t\t\t\t\t\t\t\t\tadmin login\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<style jsx>{`\n\t\t\t\t\t.btn-icon {\n\t\t\t\t\t\tbackground: transparent;\n\t\t\t\t\t\tcolor: white;\n\t\t\t\t\t}\n\t\t\t\t`}</style>\n\t\t\t<Footer2 />\n\t\t</>\n\t);\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}