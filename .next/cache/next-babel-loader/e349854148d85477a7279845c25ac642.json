{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useContext } from 'react';\nimport Axios from 'axios';\nimport UserContext from '../../context/UserContext';\nimport Loader from '../Loader';\nimport Cookies from 'js-cookie';\nimport getProfile from '../genericFunctions/getProfile';\nimport getAllTransactions from '../genericFunctions/getAllTransactions';\nimport sendMail from '../genericFunctions/sendMail';\nimport loggedUser from '../genericFunctions/loggedUser';\nimport { confirmAlert } from 'react-confirm-alert';\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\n\nconst OperationHistory = props => {\n  const context = useContext(UserContext);\n  const token = Cookies.get('token');\n  const {\n    0: state,\n    1: setState\n  } = useState('');\n  const {\n    0: profileDetails,\n    1: setProfileDetails\n  } = useState('');\n\n  const init = async () => {\n    const id = await loggedUser(token);\n    const user = {\n      user: {\n        id: id\n      }\n    }; // console.log(user, 'xxxxxx');\n    // const data = await getAllTransactions(token, user);\n\n    const profile = await getProfile(token); // console.log(data);\n    // setState(data);\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  const handleSubmit = (id, amountReceive, amountToPay, currencyTo, currencyFrom, status, operation) => {\n    confirmAlert({\n      title: 'Confirmar para enviar',\n      message: '¿Estás seguro de que quieres hacer esto?',\n      buttons: [{\n        label: 'Si',\n        onClick: async () => {\n          await changeStatus(token, id, amountReceive, amountToPay, currencyTo, currencyFrom, status);\n          await sendMail(token, operation.profileDetails.email, 'verify', operation);\n          NotificationManager.info('Estado cambiado', 'Title here');\n          init();\n        }\n      }, {\n        label: 'No',\n        onClick: () => console.log('Haga clic en no')\n      }]\n    });\n  };\n\n  if (state === '') {\n    return __jsx(\"div\", {\n      className: \"form-container w-100\"\n    }, __jsx(Loader, null));\n  }\n\n  return __jsx(React.Fragment, null, __jsx(NotificationContainer, null), __jsx(\"div\", {\n    className: \"jsx-136640067\" + \" \" + 'container main mt-5'\n  }, __jsx(\"div\", {\n    className: \"jsx-136640067\" + \" \" + 'row head'\n  }, __jsx(\"div\", {\n    className: \"jsx-136640067\" + \" \" + 'col-1'\n  }), __jsx(\"div\", {\n    className: \"jsx-136640067\" + \" \" + 'col-2'\n  }, \"Nombre del banco\"), __jsx(\"div\", {\n    className: \"jsx-136640067\" + \" \" + 'col-2'\n  }, \"N\\xFAmero de cuenta\"), __jsx(\"div\", {\n    className: \"jsx-136640067\" + \" \" + 'col-2'\n  }, \"Cuenta a pagar\"), __jsx(\"div\", {\n    className: \"jsx-136640067\" + \" \" + 'col-2'\n  }, \"Cantidad que recibir\\xE1s\"), __jsx(\"div\", {\n    className: \"jsx-136640067\" + \" \" + 'col-2'\n  }, \"Estado\")), __jsx(\"hr\", {\n    className: \"jsx-136640067\" + \" \" + 'hr'\n  }), state.map((operation, index) => {\n    // console.log(operation);\n    return __jsx(React.Fragment, {\n      key: index\n    }, __jsx(\"div\", {\n      className: \"jsx-136640067\" + \" \" + 'row'\n    }, __jsx(\"div\", {\n      className: \"jsx-136640067\" + \" \" + 'col-1'\n    }, index + 1), __jsx(\"div\", {\n      className: \"jsx-136640067\" + \" \" + 'col-2'\n    }, operation.bankDetails.bankName), __jsx(\"div\", {\n      className: \"jsx-136640067\" + \" \" + 'col-2'\n    }, operation.bankDetails.accountNumber), __jsx(\"div\", {\n      className: \"jsx-136640067\" + \" \" + 'col-1'\n    }, operation.transaction.amountToPay), __jsx(\"div\", {\n      className: \"jsx-136640067\" + \" \" + 'col-1'\n    }, operation.transaction.currencyTo), __jsx(\"div\", {\n      style: {\n        overflow: 'hidden'\n      },\n      className: \"jsx-136640067\" + \" \" + 'col-1'\n    }, operation.transaction.amountReceive), __jsx(\"div\", {\n      className: \"jsx-136640067\" + \" \" + 'col-1'\n    }, operation.transaction.currencyFrom), operation.transaction.status === 'Pago pendiente' ? __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"jsx-136640067\" + \" \" + 'col-1'\n    }, operation.transaction.status), __jsx(\"button\", {\n      onClick: () => handleSubmit(operation._id, operation.transaction.amountReceive, operation.transaction.amountToPay, operation.transaction.currencyTo, operation.transaction.currencyFrom, 'Cantidad recibida', operation),\n      className: \"jsx-136640067\" + \" \" + 'btn btn-dark'\n    }, \"verificar pago\")) : __jsx(\"div\", {\n      className: \"jsx-136640067\" + \" \" + 'col-2'\n    }, operation.transaction.status)), __jsx(\"hr\", {\n      className: \"jsx-136640067\"\n    }));\n  })), __jsx(_JSXStyle, {\n    id: \"136640067\"\n  }, \"div.jsx-136640067{color:white;font-size:15px;}.head.jsx-136640067 div.jsx-136640067{font-size:18px;}hr.jsx-136640067{background:white;}.main.jsx-136640067{margin:0 auto;padding-top:80px;width:100%;height:120vh;color:white;}.scrollbar.jsx-136640067{margin-left:30px;float:left;height:300px;max-height:600px;width:65px;background:#f5f5f5;overflow-y:scroll;margin-bottom:25px;}#style-3.jsx-136640067::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,0.3);background-color:#f5f5f5;}#style-3.jsx-136640067::-webkit-scrollbar{width:6px;background-color:#f5f5f5;}#style-3.jsx-136640067::-webkit-scrollbar-thumb{background-color:#000000;border-width:1px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFx3b3JrXFxuZXh0LWV4cHJlc3NcXE5ldyBmb2xkZXJcXGNvbXBvbmVudHNcXE9wZXJhdGlvblxcT3BlcmF0aW9uSGlzdG9yeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE4SmUsQUFHa0IsQUFJRyxBQUdFLEFBR0gsQUFTRyxBQVVtQyxBQUsxQyxBQUtlLFVBSkEsRUFsQ1YsRUFVRSxDQU5sQixFQUdBLEFBWVksUUFvQk0sRUF0Q2xCLENBbUJjLEdBVEYsSUF3QlosTUFka0IsQ0FUSixBQTRCZCxPQVgwQixNQWhCYixHQVNELFNBUFosRUFRb0IsS0FPcEIsY0FObUIsa0JBQ0MsbUJBQ3BCIiwiZmlsZSI6IkU6XFx3b3JrXFxuZXh0LWV4cHJlc3NcXE5ldyBmb2xkZXJcXGNvbXBvbmVudHNcXE9wZXJhdGlvblxcT3BlcmF0aW9uSGlzdG9yeS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCBVc2VyQ29udGV4dCBmcm9tICcuLi8uLi9jb250ZXh0L1VzZXJDb250ZXh0JztcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi4vTG9hZGVyJztcbmltcG9ydCBDb29raWVzIGZyb20gJ2pzLWNvb2tpZSc7XG5pbXBvcnQgZ2V0UHJvZmlsZSBmcm9tICcuLi9nZW5lcmljRnVuY3Rpb25zL2dldFByb2ZpbGUnO1xuaW1wb3J0IGdldEFsbFRyYW5zYWN0aW9ucyBmcm9tICcuLi9nZW5lcmljRnVuY3Rpb25zL2dldEFsbFRyYW5zYWN0aW9ucyc7XG5pbXBvcnQgc2VuZE1haWwgZnJvbSAnLi4vZ2VuZXJpY0Z1bmN0aW9ucy9zZW5kTWFpbCc7XG5pbXBvcnQgbG9nZ2VkVXNlciBmcm9tICcuLi9nZW5lcmljRnVuY3Rpb25zL2xvZ2dlZFVzZXInO1xuXG5pbXBvcnQgeyBjb25maXJtQWxlcnQgfSBmcm9tICdyZWFjdC1jb25maXJtLWFsZXJ0JztcbmltcG9ydCB7XG5cdE5vdGlmaWNhdGlvbkNvbnRhaW5lcixcblx0Tm90aWZpY2F0aW9uTWFuYWdlcixcbn0gZnJvbSAncmVhY3Qtbm90aWZpY2F0aW9ucyc7XG5cbmNvbnN0IE9wZXJhdGlvbkhpc3RvcnkgPSBwcm9wcyA9PiB7XG5cdGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KFVzZXJDb250ZXh0KTtcblx0Y29uc3QgdG9rZW4gPSBDb29raWVzLmdldCgndG9rZW4nKTtcblx0Y29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSgnJyk7XG5cdGNvbnN0IFtwcm9maWxlRGV0YWlscywgc2V0UHJvZmlsZURldGFpbHNdID0gdXNlU3RhdGUoJycpO1xuXG5cdGNvbnN0IGluaXQgPSBhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgaWQgPSBhd2FpdCBsb2dnZWRVc2VyKHRva2VuKTtcblx0XHRjb25zdCB1c2VyID0ge1xuXHRcdFx0dXNlcjoge1xuXHRcdFx0XHRpZDogaWQsXG5cdFx0XHR9LFxuXHRcdH07XG5cdFx0Ly8gY29uc29sZS5sb2codXNlciwgJ3h4eHh4eCcpO1xuXHRcdC8vIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXRBbGxUcmFuc2FjdGlvbnModG9rZW4sIHVzZXIpO1xuXG5cdFx0Y29uc3QgcHJvZmlsZSA9IGF3YWl0IGdldFByb2ZpbGUodG9rZW4pO1xuXG5cdFx0Ly8gY29uc29sZS5sb2coZGF0YSk7XG5cdFx0Ly8gc2V0U3RhdGUoZGF0YSk7XG5cdH07XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRpbml0KCk7XG5cdH0sIFtdKTtcblxuXHRjb25zdCBoYW5kbGVTdWJtaXQgPSAoXG5cdFx0aWQsXG5cdFx0YW1vdW50UmVjZWl2ZSxcblx0XHRhbW91bnRUb1BheSxcblx0XHRjdXJyZW5jeVRvLFxuXHRcdGN1cnJlbmN5RnJvbSxcblx0XHRzdGF0dXMsXG5cdFx0b3BlcmF0aW9uXG5cdCkgPT4ge1xuXHRcdGNvbmZpcm1BbGVydCh7XG5cdFx0XHR0aXRsZTogJ0NvbmZpcm1hciBwYXJhIGVudmlhcicsXG5cdFx0XHRtZXNzYWdlOiAnwr9Fc3TDoXMgc2VndXJvIGRlIHF1ZSBxdWllcmVzIGhhY2VyIGVzdG8/Jyxcblx0XHRcdGJ1dHRvbnM6IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGxhYmVsOiAnU2knLFxuXHRcdFx0XHRcdG9uQ2xpY2s6IGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdGF3YWl0IGNoYW5nZVN0YXR1cyhcblx0XHRcdFx0XHRcdFx0dG9rZW4sXG5cdFx0XHRcdFx0XHRcdGlkLFxuXHRcdFx0XHRcdFx0XHRhbW91bnRSZWNlaXZlLFxuXHRcdFx0XHRcdFx0XHRhbW91bnRUb1BheSxcblx0XHRcdFx0XHRcdFx0Y3VycmVuY3lUbyxcblx0XHRcdFx0XHRcdFx0Y3VycmVuY3lGcm9tLFxuXHRcdFx0XHRcdFx0XHRzdGF0dXNcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRhd2FpdCBzZW5kTWFpbChcblx0XHRcdFx0XHRcdFx0dG9rZW4sXG5cdFx0XHRcdFx0XHRcdG9wZXJhdGlvbi5wcm9maWxlRGV0YWlscy5lbWFpbCxcblx0XHRcdFx0XHRcdFx0J3ZlcmlmeScsXG5cdFx0XHRcdFx0XHRcdG9wZXJhdGlvblxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdE5vdGlmaWNhdGlvbk1hbmFnZXIuaW5mbygnRXN0YWRvIGNhbWJpYWRvJywgJ1RpdGxlIGhlcmUnKTtcblx0XHRcdFx0XHRcdGluaXQoKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFiZWw6ICdObycsXG5cdFx0XHRcdFx0b25DbGljazogKCkgPT4gY29uc29sZS5sb2coJ0hhZ2EgY2xpYyBlbiBubycpLFxuXHRcdFx0XHR9LFxuXHRcdFx0XSxcblx0XHR9KTtcblx0fTtcblxuXHRpZiAoc3RhdGUgPT09ICcnKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPSdmb3JtLWNvbnRhaW5lciB3LTEwMCc+XG5cdFx0XHRcdDxMb2FkZXIgLz5cblx0XHRcdDwvZGl2PlxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gKFxuXHRcdDxSZWFjdC5GcmFnbWVudD5cblx0XHRcdDxOb3RpZmljYXRpb25Db250YWluZXIgLz5cblx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb250YWluZXIgbWFpbiBtdC01Jz5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J3JvdyBoZWFkJz5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLTEnIC8+XG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC0yJz5Ob21icmUgZGVsIGJhbmNvPC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC0yJz5Ow7ptZXJvIGRlIGN1ZW50YTwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb2wtMic+Q3VlbnRhIGEgcGFnYXI8L2Rpdj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLTInPkNhbnRpZGFkIHF1ZSByZWNpYmlyw6FzPC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC0yJz5Fc3RhZG88L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxociBjbGFzc05hbWU9J2hyJyAvPlxuXG5cdFx0XHRcdHsvKiA8ZGl2IGNsYXNzTmFtZT1cInNjcm9sbGJhclwiIGlkPVwic3R5bGUtM1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9yY2Utb3ZlcmZsb3dcIj4gKi99XG5cdFx0XHRcdHtzdGF0ZS5tYXAoKG9wZXJhdGlvbiwgaW5kZXgpID0+IHtcblx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhvcGVyYXRpb24pO1xuXHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHQ8UmVhY3QuRnJhZ21lbnQga2V5PXtpbmRleH0+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdyb3cnPlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb2wtMSc+e2luZGV4ICsgMX08L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLTInPntvcGVyYXRpb24uYmFua0RldGFpbHMuYmFua05hbWV9PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC0yJz5cblx0XHRcdFx0XHRcdFx0XHRcdHtvcGVyYXRpb24uYmFua0RldGFpbHMuYWNjb3VudE51bWJlcn1cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLTEnPntvcGVyYXRpb24udHJhbnNhY3Rpb24uYW1vdW50VG9QYXl9PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC0xJz57b3BlcmF0aW9uLnRyYW5zYWN0aW9uLmN1cnJlbmN5VG99PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBzdHlsZT17eyBvdmVyZmxvdzogJ2hpZGRlbicgfX0gY2xhc3NOYW1lPSdjb2wtMSc+XG5cdFx0XHRcdFx0XHRcdFx0XHR7b3BlcmF0aW9uLnRyYW5zYWN0aW9uLmFtb3VudFJlY2VpdmV9XG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC0xJz5cblx0XHRcdFx0XHRcdFx0XHRcdHtvcGVyYXRpb24udHJhbnNhY3Rpb24uY3VycmVuY3lGcm9tfVxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXG5cdFx0XHRcdFx0XHRcdFx0e29wZXJhdGlvbi50cmFuc2FjdGlvbi5zdGF0dXMgPT09ICdQYWdvIHBlbmRpZW50ZScgPyAoXG5cdFx0XHRcdFx0XHRcdFx0XHQ8UmVhY3QuRnJhZ21lbnQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb2wtMSc+e29wZXJhdGlvbi50cmFuc2FjdGlvbi5zdGF0dXN9PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J2J0biBidG4tZGFyaydcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aGFuZGxlU3VibWl0KFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcGVyYXRpb24uX2lkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcGVyYXRpb24udHJhbnNhY3Rpb24uYW1vdW50UmVjZWl2ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3BlcmF0aW9uLnRyYW5zYWN0aW9uLmFtb3VudFRvUGF5LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcGVyYXRpb24udHJhbnNhY3Rpb24uY3VycmVuY3lUbyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3BlcmF0aW9uLnRyYW5zYWN0aW9uLmN1cnJlbmN5RnJvbSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0J0NhbnRpZGFkIHJlY2liaWRhJyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3BlcmF0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmVyaWZpY2FyIHBhZ29cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L1JlYWN0LkZyYWdtZW50PlxuXHRcdFx0XHRcdFx0XHRcdCkgOiAoXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLTInPntvcGVyYXRpb24udHJhbnNhY3Rpb24uc3RhdHVzfTwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdCl9XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8aHIgLz5cblx0XHRcdFx0XHRcdDwvUmVhY3QuRnJhZ21lbnQ+XG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSl9XG5cdFx0XHQ8L2Rpdj5cblx0XHRcdHsvKiA8L2Rpdj4gKi99XG5cdFx0XHQ8c3R5bGUganN4PntgXG5cdFx0XHRcdGRpdiB7XG5cdFx0XHRcdFx0Y29sb3I6IHdoaXRlO1xuXHRcdFx0XHRcdGZvbnQtc2l6ZTogMTVweDtcblx0XHRcdFx0fVxuXHRcdFx0XHQuaGVhZCBkaXYge1xuXHRcdFx0XHRcdGZvbnQtc2l6ZTogMThweDtcblx0XHRcdFx0fVxuXHRcdFx0XHRociB7XG5cdFx0XHRcdFx0YmFja2dyb3VuZDogd2hpdGU7XG5cdFx0XHRcdH1cblx0XHRcdFx0Lm1haW4ge1xuXHRcdFx0XHRcdG1hcmdpbjogMCBhdXRvO1xuXHRcdFx0XHRcdHBhZGRpbmctdG9wOiA4MHB4O1xuXHRcdFx0XHRcdHdpZHRoOiAxMDAlO1xuXHRcdFx0XHRcdGhlaWdodDogMTIwdmg7XG5cdFx0XHRcdFx0Y29sb3I6IHdoaXRlO1xuXHRcdFx0XHRcdC8vIG92ZXJmbG93LXk6IHNjcm9sbDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC5zY3JvbGxiYXIge1xuXHRcdFx0XHRcdG1hcmdpbi1sZWZ0OiAzMHB4O1xuXHRcdFx0XHRcdGZsb2F0OiBsZWZ0O1xuXHRcdFx0XHRcdGhlaWdodDogMzAwcHg7XG5cdFx0XHRcdFx0bWF4LWhlaWdodDogNjAwcHg7XG5cdFx0XHRcdFx0d2lkdGg6IDY1cHg7XG5cdFx0XHRcdFx0YmFja2dyb3VuZDogI2Y1ZjVmNTtcblx0XHRcdFx0XHRvdmVyZmxvdy15OiBzY3JvbGw7XG5cdFx0XHRcdFx0bWFyZ2luLWJvdHRvbTogMjVweDtcblx0XHRcdFx0fVxuXHRcdFx0XHQjc3R5bGUtMzo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xuXHRcdFx0XHRcdC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDZweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG5cdFx0XHRcdFx0YmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdCNzdHlsZS0zOjotd2Via2l0LXNjcm9sbGJhciB7XG5cdFx0XHRcdFx0d2lkdGg6IDZweDtcblx0XHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0I3N0eWxlLTM6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcblx0XHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwO1xuXHRcdFx0XHRcdGJvcmRlci13aWR0aDogMXB4O1xuXHRcdFx0XHR9XG5cdFx0XHRgfTwvc3R5bGU+XG5cdFx0XHR7LyogPC9kaXY+ICovfVxuXHRcdDwvUmVhY3QuRnJhZ21lbnQ+XG5cdCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBPcGVyYXRpb25IaXN0b3J5O1xuXG5jb25zdCBjaGFuZ2VTdGF0dXMgPSBhc3luYyAoXG5cdHRva2VuLFxuXHRpZCxcblx0YW1vdW50UmVjZWl2ZSxcblx0YW1vdW50VG9QYXksXG5cdGN1cnJlbmN5VG8sXG5cdGN1cnJlbmN5RnJvbSxcblx0c3RhdHVzXG4pID0+IHtcblx0Y29uc3QgYm9keSA9IHtcblx0XHR0cmFuc2FjdGlvbjoge1xuXHRcdFx0YW1vdW50UmVjZWl2ZSxcblx0XHRcdGFtb3VudFRvUGF5LFxuXHRcdFx0Y3VycmVuY3lUbyxcblx0XHRcdGN1cnJlbmN5RnJvbSxcblx0XHRcdHN0YXR1cyxcblx0XHR9LFxuXHR9O1xuXHRjb25zdCBoZWFkZXIgPSB7XG5cdFx0aGVhZGVyczoge1xuXHRcdFx0J3gtYXV0aC10b2tlbic6IHRva2VuLFxuXHRcdH0sXG5cdH07XG5cdGNvbnN0IHJlcyA9IGF3YWl0IEF4aW9zLnB1dChcblx0XHQnaHR0cHM6Ly9hcGkubW9uaS5wZS9hcGkvb3BlcmF0aW9ucy8nICsgaWQsXG5cdFx0Ym9keSxcblx0XHRoZWFkZXJcblx0KTtcblx0cmV0dXJuIHJlcy5kYXRhO1xufTtcbiJdfQ== */\\n/*@ sourceURL=E:\\\\\\\\work\\\\\\\\next-express\\\\\\\\New folder\\\\\\\\components\\\\\\\\Operation\\\\\\\\OperationHistory.js */\"));\n};\n\nexport default OperationHistory;\n\nconst changeStatus = async (token, id, amountReceive, amountToPay, currencyTo, currencyFrom, status) => {\n  const body = {\n    transaction: {\n      amountReceive,\n      amountToPay,\n      currencyTo,\n      currencyFrom,\n      status\n    }\n  };\n  const header = {\n    headers: {\n      'x-auth-token': token\n    }\n  };\n  const res = await Axios.put('https://api.moni.pe/api/operations/' + id, body, header);\n  return res.data;\n};","map":{"version":3,"sources":["E:/work/next-express/New folder/components/Operation/OperationHistory.js"],"names":["React","useEffect","useState","useContext","Axios","UserContext","Loader","Cookies","getProfile","getAllTransactions","sendMail","loggedUser","confirmAlert","NotificationContainer","NotificationManager","OperationHistory","props","context","token","get","state","setState","profileDetails","setProfileDetails","init","id","user","profile","handleSubmit","amountReceive","amountToPay","currencyTo","currencyFrom","status","operation","title","message","buttons","label","onClick","changeStatus","email","info","console","log","map","index","bankDetails","bankName","accountNumber","transaction","overflow","_id","body","header","headers","res","put","data"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,UAAP,MAAuB,gCAAvB;AACA,OAAOC,kBAAP,MAA+B,wCAA/B;AACA,OAAOC,QAAP,MAAqB,8BAArB;AACA,OAAOC,UAAP,MAAuB,gCAAvB;AAEA,SAASC,YAAT,QAA6B,qBAA7B;AACA,SACCC,qBADD,EAECC,mBAFD,QAGO,qBAHP;;AAKA,MAAMC,gBAAgB,GAAGC,KAAK,IAAI;AACjC,QAAMC,OAAO,GAAGd,UAAU,CAACE,WAAD,CAA1B;AACA,QAAMa,KAAK,GAAGX,OAAO,CAACY,GAAR,CAAY,OAAZ,CAAd;AACA,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBnB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAAA,OAACoB,cAAD;AAAA,OAAiBC;AAAjB,MAAsCrB,QAAQ,CAAC,EAAD,CAApD;;AAEA,QAAMsB,IAAI,GAAG,YAAY;AACxB,UAAMC,EAAE,GAAG,MAAMd,UAAU,CAACO,KAAD,CAA3B;AACA,UAAMQ,IAAI,GAAG;AACZA,MAAAA,IAAI,EAAE;AACLD,QAAAA,EAAE,EAAEA;AADC;AADM,KAAb,CAFwB,CAOxB;AACA;;AAEA,UAAME,OAAO,GAAG,MAAMnB,UAAU,CAACU,KAAD,CAAhC,CAVwB,CAYxB;AACA;AACA,GAdD;;AAgBAjB,EAAAA,SAAS,CAAC,MAAM;AACfuB,IAAAA,IAAI;AACJ,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMI,YAAY,GAAG,CACpBH,EADoB,EAEpBI,aAFoB,EAGpBC,WAHoB,EAIpBC,UAJoB,EAKpBC,YALoB,EAMpBC,MANoB,EAOpBC,SAPoB,KAQhB;AACJtB,IAAAA,YAAY,CAAC;AACZuB,MAAAA,KAAK,EAAE,uBADK;AAEZC,MAAAA,OAAO,EAAE,0CAFG;AAGZC,MAAAA,OAAO,EAAE,CACR;AACCC,QAAAA,KAAK,EAAE,IADR;AAECC,QAAAA,OAAO,EAAE,YAAY;AACpB,gBAAMC,YAAY,CACjBtB,KADiB,EAEjBO,EAFiB,EAGjBI,aAHiB,EAIjBC,WAJiB,EAKjBC,UALiB,EAMjBC,YANiB,EAOjBC,MAPiB,CAAlB;AASA,gBAAMvB,QAAQ,CACbQ,KADa,EAEbgB,SAAS,CAACZ,cAAV,CAAyBmB,KAFZ,EAGb,QAHa,EAIbP,SAJa,CAAd;AAMApB,UAAAA,mBAAmB,CAAC4B,IAApB,CAAyB,iBAAzB,EAA4C,YAA5C;AACAlB,UAAAA,IAAI;AACJ;AApBF,OADQ,EAuBR;AACCc,QAAAA,KAAK,EAAE,IADR;AAECC,QAAAA,OAAO,EAAE,MAAMI,OAAO,CAACC,GAAR,CAAY,iBAAZ;AAFhB,OAvBQ;AAHG,KAAD,CAAZ;AAgCA,GAzCD;;AA2CA,MAAIxB,KAAK,KAAK,EAAd,EAAkB;AACjB,WACC;AAAK,MAAA,SAAS,EAAC;AAAf,OACC,MAAC,MAAD,OADD,CADD;AAKA;;AAED,SACC,MAAC,KAAD,CAAO,QAAP,QACC,MAAC,qBAAD,OADD,EAEC;AAAA,uCAAe;AAAf,KACC;AAAA,uCAAe;AAAf,KACC;AAAA,uCAAe;AAAf,IADD,EAEC;AAAA,uCAAe;AAAf,wBAFD,EAGC;AAAA,uCAAe;AAAf,2BAHD,EAIC;AAAA,uCAAe;AAAf,sBAJD,EAKC;AAAA,uCAAe;AAAf,iCALD,EAMC;AAAA,uCAAe;AAAf,cAND,CADD,EASC;AAAA,uCAAc;AAAd,IATD,EAaEA,KAAK,CAACyB,GAAN,CAAU,CAACX,SAAD,EAAYY,KAAZ,KAAsB;AAChC;AACA,WACC,MAAC,KAAD,CAAO,QAAP;AAAgB,MAAA,GAAG,EAAEA;AAArB,OACC;AAAA,yCAAe;AAAf,OACC;AAAA,yCAAe;AAAf,OAAwBA,KAAK,GAAG,CAAhC,CADD,EAEC;AAAA,yCAAe;AAAf,OAAwBZ,SAAS,CAACa,WAAV,CAAsBC,QAA9C,CAFD,EAGC;AAAA,yCAAe;AAAf,OACEd,SAAS,CAACa,WAAV,CAAsBE,aADxB,CAHD,EAMC;AAAA,yCAAe;AAAf,OAAwBf,SAAS,CAACgB,WAAV,CAAsBpB,WAA9C,CAND,EAOC;AAAA,yCAAe;AAAf,OAAwBI,SAAS,CAACgB,WAAV,CAAsBnB,UAA9C,CAPD,EAQC;AAAK,MAAA,KAAK,EAAE;AAAEoB,QAAAA,QAAQ,EAAE;AAAZ,OAAZ;AAAA,yCAA8C;AAA9C,OACEjB,SAAS,CAACgB,WAAV,CAAsBrB,aADxB,CARD,EAWC;AAAA,yCAAe;AAAf,OACEK,SAAS,CAACgB,WAAV,CAAsBlB,YADxB,CAXD,EAeEE,SAAS,CAACgB,WAAV,CAAsBjB,MAAtB,KAAiC,gBAAjC,GACA,MAAC,KAAD,CAAO,QAAP,QACC;AAAA,yCAAe;AAAf,OAAwBC,SAAS,CAACgB,WAAV,CAAsBjB,MAA9C,CADD,EAEC;AAEC,MAAA,OAAO,EAAE,MACRL,YAAY,CACXM,SAAS,CAACkB,GADC,EAEXlB,SAAS,CAACgB,WAAV,CAAsBrB,aAFX,EAGXK,SAAS,CAACgB,WAAV,CAAsBpB,WAHX,EAIXI,SAAS,CAACgB,WAAV,CAAsBnB,UAJX,EAKXG,SAAS,CAACgB,WAAV,CAAsBlB,YALX,EAMX,mBANW,EAOXE,SAPW,CAHd;AAAA,yCACW;AADX,wBAFD,CADA,GAqBA;AAAA,yCAAe;AAAf,OAAwBA,SAAS,CAACgB,WAAV,CAAsBjB,MAA9C,CApCF,CADD,EAwCC;AAAA;AAAA,MAxCD,CADD;AA4CA,GA9CA,CAbF,CAFD;AAAA;AAAA,qmUADD;AAiHA,CA9LD;;AAgMA,eAAelB,gBAAf;;AAEA,MAAMyB,YAAY,GAAG,OACpBtB,KADoB,EAEpBO,EAFoB,EAGpBI,aAHoB,EAIpBC,WAJoB,EAKpBC,UALoB,EAMpBC,YANoB,EAOpBC,MAPoB,KAQhB;AACJ,QAAMoB,IAAI,GAAG;AACZH,IAAAA,WAAW,EAAE;AACZrB,MAAAA,aADY;AAEZC,MAAAA,WAFY;AAGZC,MAAAA,UAHY;AAIZC,MAAAA,YAJY;AAKZC,MAAAA;AALY;AADD,GAAb;AASA,QAAMqB,MAAM,GAAG;AACdC,IAAAA,OAAO,EAAE;AACR,sBAAgBrC;AADR;AADK,GAAf;AAKA,QAAMsC,GAAG,GAAG,MAAMpD,KAAK,CAACqD,GAAN,CACjB,wCAAwChC,EADvB,EAEjB4B,IAFiB,EAGjBC,MAHiB,CAAlB;AAKA,SAAOE,GAAG,CAACE,IAAX;AACA,CA7BD","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport Axios from 'axios';\nimport UserContext from '../../context/UserContext';\nimport Loader from '../Loader';\nimport Cookies from 'js-cookie';\nimport getProfile from '../genericFunctions/getProfile';\nimport getAllTransactions from '../genericFunctions/getAllTransactions';\nimport sendMail from '../genericFunctions/sendMail';\nimport loggedUser from '../genericFunctions/loggedUser';\n\nimport { confirmAlert } from 'react-confirm-alert';\nimport {\n\tNotificationContainer,\n\tNotificationManager,\n} from 'react-notifications';\n\nconst OperationHistory = props => {\n\tconst context = useContext(UserContext);\n\tconst token = Cookies.get('token');\n\tconst [state, setState] = useState('');\n\tconst [profileDetails, setProfileDetails] = useState('');\n\n\tconst init = async () => {\n\t\tconst id = await loggedUser(token);\n\t\tconst user = {\n\t\t\tuser: {\n\t\t\t\tid: id,\n\t\t\t},\n\t\t};\n\t\t// console.log(user, 'xxxxxx');\n\t\t// const data = await getAllTransactions(token, user);\n\n\t\tconst profile = await getProfile(token);\n\n\t\t// console.log(data);\n\t\t// setState(data);\n\t};\n\n\tuseEffect(() => {\n\t\tinit();\n\t}, []);\n\n\tconst handleSubmit = (\n\t\tid,\n\t\tamountReceive,\n\t\tamountToPay,\n\t\tcurrencyTo,\n\t\tcurrencyFrom,\n\t\tstatus,\n\t\toperation\n\t) => {\n\t\tconfirmAlert({\n\t\t\ttitle: 'Confirmar para enviar',\n\t\t\tmessage: '¿Estás seguro de que quieres hacer esto?',\n\t\t\tbuttons: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Si',\n\t\t\t\t\tonClick: async () => {\n\t\t\t\t\t\tawait changeStatus(\n\t\t\t\t\t\t\ttoken,\n\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\tamountReceive,\n\t\t\t\t\t\t\tamountToPay,\n\t\t\t\t\t\t\tcurrencyTo,\n\t\t\t\t\t\t\tcurrencyFrom,\n\t\t\t\t\t\t\tstatus\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait sendMail(\n\t\t\t\t\t\t\ttoken,\n\t\t\t\t\t\t\toperation.profileDetails.email,\n\t\t\t\t\t\t\t'verify',\n\t\t\t\t\t\t\toperation\n\t\t\t\t\t\t);\n\t\t\t\t\t\tNotificationManager.info('Estado cambiado', 'Title here');\n\t\t\t\t\t\tinit();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'No',\n\t\t\t\t\tonClick: () => console.log('Haga clic en no'),\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t};\n\n\tif (state === '') {\n\t\treturn (\n\t\t\t<div className='form-container w-100'>\n\t\t\t\t<Loader />\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<NotificationContainer />\n\t\t\t<div className='container main mt-5'>\n\t\t\t\t<div className='row head'>\n\t\t\t\t\t<div className='col-1' />\n\t\t\t\t\t<div className='col-2'>Nombre del banco</div>\n\t\t\t\t\t<div className='col-2'>Número de cuenta</div>\n\t\t\t\t\t<div className='col-2'>Cuenta a pagar</div>\n\t\t\t\t\t<div className='col-2'>Cantidad que recibirás</div>\n\t\t\t\t\t<div className='col-2'>Estado</div>\n\t\t\t\t</div>\n\t\t\t\t<hr className='hr' />\n\n\t\t\t\t{/* <div className=\"scrollbar\" id=\"style-3\">\n          <div className=\"force-overflow\"> */}\n\t\t\t\t{state.map((operation, index) => {\n\t\t\t\t\t// console.log(operation);\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<React.Fragment key={index}>\n\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t<div className='col-1'>{index + 1}</div>\n\t\t\t\t\t\t\t\t<div className='col-2'>{operation.bankDetails.bankName}</div>\n\t\t\t\t\t\t\t\t<div className='col-2'>\n\t\t\t\t\t\t\t\t\t{operation.bankDetails.accountNumber}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='col-1'>{operation.transaction.amountToPay}</div>\n\t\t\t\t\t\t\t\t<div className='col-1'>{operation.transaction.currencyTo}</div>\n\t\t\t\t\t\t\t\t<div style={{ overflow: 'hidden' }} className='col-1'>\n\t\t\t\t\t\t\t\t\t{operation.transaction.amountReceive}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='col-1'>\n\t\t\t\t\t\t\t\t\t{operation.transaction.currencyFrom}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{operation.transaction.status === 'Pago pendiente' ? (\n\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t<div className='col-1'>{operation.transaction.status}</div>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-dark'\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\thandleSubmit(\n\t\t\t\t\t\t\t\t\t\t\t\t\toperation._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\toperation.transaction.amountReceive,\n\t\t\t\t\t\t\t\t\t\t\t\t\toperation.transaction.amountToPay,\n\t\t\t\t\t\t\t\t\t\t\t\t\toperation.transaction.currencyTo,\n\t\t\t\t\t\t\t\t\t\t\t\t\toperation.transaction.currencyFrom,\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Cantidad recibida',\n\t\t\t\t\t\t\t\t\t\t\t\t\toperation\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tverificar pago\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className='col-2'>{operation.transaction.status}</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t\t{/* </div> */}\n\t\t\t<style jsx>{`\n\t\t\t\tdiv {\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tfont-size: 15px;\n\t\t\t\t}\n\t\t\t\t.head div {\n\t\t\t\t\tfont-size: 18px;\n\t\t\t\t}\n\t\t\t\thr {\n\t\t\t\t\tbackground: white;\n\t\t\t\t}\n\t\t\t\t.main {\n\t\t\t\t\tmargin: 0 auto;\n\t\t\t\t\tpadding-top: 80px;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 120vh;\n\t\t\t\t\tcolor: white;\n\t\t\t\t\t// overflow-y: scroll;\n\t\t\t\t}\n\n\t\t\t\t.scrollbar {\n\t\t\t\t\tmargin-left: 30px;\n\t\t\t\t\tfloat: left;\n\t\t\t\t\theight: 300px;\n\t\t\t\t\tmax-height: 600px;\n\t\t\t\t\twidth: 65px;\n\t\t\t\t\tbackground: #f5f5f5;\n\t\t\t\t\toverflow-y: scroll;\n\t\t\t\t\tmargin-bottom: 25px;\n\t\t\t\t}\n\t\t\t\t#style-3::-webkit-scrollbar-track {\n\t\t\t\t\t-webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n\t\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t\t}\n\n\t\t\t\t#style-3::-webkit-scrollbar {\n\t\t\t\t\twidth: 6px;\n\t\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t\t}\n\n\t\t\t\t#style-3::-webkit-scrollbar-thumb {\n\t\t\t\t\tbackground-color: #000000;\n\t\t\t\t\tborder-width: 1px;\n\t\t\t\t}\n\t\t\t`}</style>\n\t\t\t{/* </div> */}\n\t\t</React.Fragment>\n\t);\n};\n\nexport default OperationHistory;\n\nconst changeStatus = async (\n\ttoken,\n\tid,\n\tamountReceive,\n\tamountToPay,\n\tcurrencyTo,\n\tcurrencyFrom,\n\tstatus\n) => {\n\tconst body = {\n\t\ttransaction: {\n\t\t\tamountReceive,\n\t\t\tamountToPay,\n\t\t\tcurrencyTo,\n\t\t\tcurrencyFrom,\n\t\t\tstatus,\n\t\t},\n\t};\n\tconst header = {\n\t\theaders: {\n\t\t\t'x-auth-token': token,\n\t\t},\n\t};\n\tconst res = await Axios.put(\n\t\t'https://api.moni.pe/api/operations/' + id,\n\t\tbody,\n\t\theader\n\t);\n\treturn res.data;\n};\n"]},"metadata":{},"sourceType":"module"}